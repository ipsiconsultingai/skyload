# HTTP ν΄λΌμ΄μ–ΈνΈ

> ν• μ¤„ μ”μ•½: Next.js ν™κ²½μ— μµμ ν™”λ νƒ€μ… μ•μ „ν• HTTP ν΄λΌμ΄μ–ΈνΈ

## κ°μ”

### λ°°κ²½

- λ„¤μ΄ν‹°λΈ fetch APIλ” νƒ€μ… μ•μ „μ„±, μ—λ¬ μ²λ¦¬, κ³µν†µ μ„¤μ • κ΄€λ¦¬κ°€ λ¶νΈν•¨
- Next.js App Routerμ μΊμ‹±/μ¬κ²€μ¦ κΈ°λ¥μ„ μ‰½κ² ν™μ©ν•΄μ•Ό ν•¨
- API νΈμ¶ μ‹ λ°λ³µλλ” λ³΄μΌλ¬ν”λ μ΄νΈ μ½”λ“ μ κ±° ν•„μ”

### λ©ν‘

- TypeScript μ λ„¤λ¦­ κΈ°λ° νƒ€μ… μ•μ „ν• μ‘λ‹µ μ²λ¦¬
- Next.js fetch ν™•μ¥ μµμ… μ§€μ›
- κµ¬μ΅°ν™”λ μ—λ¬ μ²λ¦¬

## μ‚¬μ©μ μ‹λ‚λ¦¬μ¤

### μ‹λ‚λ¦¬μ¤ 1: GET μ”μ²­

```
1. κ°λ°μκ°€ getFetch<User[]>("/api/users", { query: { page: 1 } }) νΈμ¶
2. μ‹μ¤ν…μ΄ μΏΌλ¦¬ νλΌλ―Έν„° μ§λ ¬ν™”, JSON νμ‹±, νƒ€μ… μ¶”λ΅ ν•μ—¬ λ°ν™
```

### μ‹λ‚λ¦¬μ¤ 2: POST μ”μ²­

```
1. κ°λ°μκ°€ postFetch<User>("/api/users", { body: { name: "ν™κΈΈλ™" } }) νΈμ¶
2. μ‹μ¤ν…μ΄ bodyλ¥Ό JSONμΌλ΅ μ§λ ¬ν™”ν•μ—¬ μ”μ²­, μ‘λ‹µμ„ User νƒ€μ…μΌλ΅ λ°ν™
```

### μ‹λ‚λ¦¬μ¤ 3: μ—λ¬ μ²λ¦¬

```
1. APIκ°€ 404 μ‘λ‹µ λ°ν™
2. μ‹μ¤ν…μ΄ FetchError μƒμ„± (method, url, status, message ν¬ν•¨)
3. κ°λ°μκ°€ catch λΈ”λ΅μ—μ„ κµ¬μ΅°ν™”λ μ—λ¬ μ •λ³΄ ν™μ©
```

## μ”κµ¬μ‚¬ν•­

### κΈ°λ¥ μ”κµ¬μ‚¬ν•­

μ°μ„ μμ„: π”΄ ν•„μ | π΅ κ¶μ¥ | πΆ μ„ νƒ

- [ ] π”΄ HTTP λ©”μ„λ“λ³„ ν—¬νΌ (getFetch, postFetch, putFetch, deleteFetch)
- [ ] π”΄ TypeScript μ λ„¤λ¦­ μ‘λ‹µ νƒ€μ… μ§€μ›
- [ ] π”΄ μΏΌλ¦¬ νλΌλ―Έν„° μλ™ μ§λ ¬ν™”
- [ ] π”΄ JSON body μλ™ μ§λ ¬ν™”
- [ ] π”΄ κµ¬μ΅°ν™”λ FetchError ν΄λμ¤
- [ ] π΅ Next.js cache/revalidate μµμ… μ§€μ›
- [ ] π΅ ν™κ²½λ³€μ κΈ°λ° Base URL μ„¤μ •
- [ ] πΆ 204 No Content μ‘λ‹µ μ²λ¦¬

### λΉ„κΈ°λ¥ μ”κµ¬μ‚¬ν•­

- **μ„±λ¥**: λ„¤μ΄ν‹°λΈ fetch λν•‘μΌλ΅ μ¤λ²„ν—¤λ“ μµμ†ν™”
- **νƒ€μ… μ•μ „μ„±**: μ»΄νμΌ νƒ€μ„ νƒ€μ… μ²΄ν¬

## κµ¬ν„ κ°€μ΄λ“

### κµ¬ν„ μ„μΉ

```
libs/fetch/
β”β”€β”€ types.ts      # νƒ€μ… λ° FetchError ν΄λμ¤
β”β”€β”€ core.ts       # HTTP λ©”μ„λ“λ³„ ν•¨μ
β””β”€β”€ index.ts      # Public exports
```

### κΈ°μ΅΄ μ½”λ“ ν™μ©

| λ¨λ“ | μ©λ„ | μ°Έκ³                       |
| ---- | ---- | ------------------------- |
| μ—†μ | -    | λ„¤μ΄ν‹°λΈ fetch APIλ§ μ‚¬μ© |

## μ„±κ³µ κΈ°μ¤€

### μ™„λ£ μ΅°κ±΄

- [ ] λ¨λ“  κΈ°λ¥ μ”κµ¬μ‚¬ν•­(π”΄) κµ¬ν„
- [ ] νƒ€μ… μ²΄ν¬ ν†µκ³Ό (`pnpm build`)
- [ ] λ¦°νΈ ν†µκ³Ό (`pnpm lint`)

### κ²€μ¦ λ°©λ²•

```bash
pnpm build
pnpm lint
```
